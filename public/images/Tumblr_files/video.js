var TumblrVideo=function(){var B,ay,ab,ae={},aI,aH,ad,aj,X,j=1,ai=false,ah,aa=true,af=false,q=false,av=false,i,ao=0,h=0,g=(document.getElementById("tumblr_form_key"))?document.getElementById("tumblr_form_key").getAttribute("content"):false,l=false;var m=function(aN,aM){this.options=aM=aM||{};this.button=aN;this.popover=aM.popover||aN.querySelector(".popover");this.on_hide=aM.on_hide||function(){};this.popover.className+=" popover"};m.prototype.show=function(){var aM=this;aA(aM.popover,"show");document.addEventListener("keydown",function(aN){if(aN.keyCode===27){aM.hide()}});document.addEventListener("mousedown",function(aN){var aO=aN.target;if(!o(aO,".popover")){aM.hide()}})};m.prototype.hide=function(){var aM=this;aE(aM.popover,"show");aM.on_hide();document.removeEventListener("keydown",function(){},false);document.removeEventListener("mousedown",function(){},false)};var k=(function(){return{show:function(aN,aM){aM=aM||"";k.on_close=aN||function(){};k.visible=true;k.overlay=document.querySelector("#glass_overlay");if(!k.overlay){k.overlay=document.createElement("div");k.overlay.id="glass_overlay";document.body.appendChild(k.overlay)}k.overlay.className="show";setTimeout(function(){k.overlay.className+=" "+aM},0)},hide:function(){k.visible=false;k.overlay.className="";k.on_close()}}})();function o(aO,aN){var aM=aO.parentNode;while(!G(aN,aM)){if(!aM.parentNode){return false}aM=aM.parentNode}return aM}function G(aM,aO){if(aO&&aO.webkitMatchesSelector){return aO.webkitMatchesSelector(aM)}if(aO&&aO.mozMatchesSelector){return aO.mozMatchesSelector(aM)}var aN=document.querySelectorAll(aM);for(var aP in aN){return aN[aP]===aO}return false}function aA(aM,aN){if((" "+aM.className+" ").indexOf(" "+aN+" ")==-1){aM.className=aM.className===""?aN:aM.className+" "+aN}}function aE(aN,aM){if(aN.className.indexOf(aM)==-1){return}var aO=aN.className.split(" ");aO.splice(aO.indexOf(aM),1);aN.className=aO.join(" ")}function au(aO,aN){for(var aM=0;aM<aN.length;aM++){aA(aO,aN[aM])}}function R(aO,aN){for(var aM=0;aM<aN.length;aM++){aE(aO,aN[aM])}}function z(aN,aM){if(aL(aN,aM)){aE(aN,aM)}else{aA(aN,aM)}}function aL(aN,aM){if(!aN){return}var aO=aN.className;return(aO.split(" ").indexOf(aM)!==-1)}function ax(){return ad.currentTime()/ad.duration()}function ar(aN){var aM=ae.progress_control,aP=_V_.findPosX(aM),aQ=aM.offsetWidth,aO=ae.seek_handle;if(aO){var aR=aO.offsetWidth;aP=aP+(aR/2);aQ=aQ-aR}return Math.max(0,Math.min(1,(aN.pageX-aP)/aQ))}function am(){var aM=document.body.parentNode.offsetHeight-((q)?150:0),aP=document.body.parentNode.offsetWidth-((q)?150:0),aO=Math.round((((ab.dimensions.width*aM/ab.dimensions.height)/aP)*aP)),aN=(q)?aO/ab.aspect:0;if(aO>aP){aO=aP;aN=aP/ab.aspect}return(ab.orientation==="landscape")?"0 0 "+(ab.aspect*100)+"% 0":"0 0 "+aN+"px "+aO+"px"}function ap(aN,aM){setTimeout(function(){if(q){var aQ=document.body.parentNode.offsetHeight-150,aR=document.body.parentNode.offsetWidth-150,aP=aP||Math.round(aQ/ab.aspect),aO=aO||Math.round(aP*ab.aspect);if(aP>aR){aP=aR}if(aO<=aQ&&aP<=aR){aI.style.maxWidth=aP+"px"}}else{aI.style.maxWidth=null}},0)}function ac(){T();_V_.blockTextSelection();_V_.addEvent(document,"mousemove",d);_V_.addEvent(document,"mouseup",H)}function O(){_V_.unblockTextSelection();_V_.removeEvent(document,"mousemove",d,false);_V_.removeEvent(document,"mouseup",H,false)}function T(){aA(aI,"scrubbing");ad.scrubbing=true;ad.videoWasPlaying=!ad.paused();ad.pause()}function H(){aE(aI,"scrubbing");ad.scrubbing=false;if(ad.videoWasPlaying){ad.play()}O()}function d(aN){var aM=ar(aN)*ad.duration();if(aM==ad.duration()){aM=aM-0.1}ad.currentTime(aM)}function aw(aO){var aM=ae.load_progress,aN=_V_.round(ad.bufferedPercent()*100,2);aO=aO||aN;aM.style.width=aO+"%"}function A(){aA(aI,"mousemove");setTimeout(function(){if(!av){aE(aI,"mousemove")}},1000)}function aD(){var aN,aM=ax(),aR=ae.seek_handle,aS=ae.play_progress;if(isNaN(aM)){aM=0}aN=aM;if(aR){var aP=ad.el,aQ=aP.offsetWidth,aU=aR.offsetWidth,aV=(aU)?aU/aQ:0,aO=1-aV,aT=aM*aO;aN=aT+(aV/2);aR.style.left=_V_.round(aT*100,2)+"%"}aS.style.width=_V_.round(aN*100,2)+"%"}function e(){return(ad.scrubbing)?ad.values.currentTime:ad.currentTime()}function S(){var aM=e();ae.current_time.textContent=_V_.formatTime(aM,ad.duration());if(aM>0&&!aL(aI,"playing")){aA(aI,"playing");ai=false}}function r(){if(ad.duration()){ae.remaining_time.textContent="-"+_V_.formatTime(ad.remainingTime())}}function I(aN,aM){aN=(isNaN(aN))?0:aN*100;var aO=ab.thumbnails.total,aP=100/(aO-1),aQ=Math.floor(aN/aO)*aP;ae.seek_thumbs.style.backgroundPosition=aQ+"% 0";if(aM){ae.seek_thumbs_container.style.left=aM+"px";C(aN)}}function C(aM){ae.seek_time.textContent=_V_.formatTime(ad.duration()*(aM/100))}function U(){aF("playing")}function W(){L()}function V(){}function at(){aF("off");parent.window.focus()}function aB(){aw()}function P(){aD();S();r();if(!q&&aL(document.body,"is_lightbox")){J()}}function b(){}function ak(){}function aG(){parent.postMessage("full_window;true;"+ab.id,ab.origin_url)}function D(){parent.postMessage("full_window;false;"+ab.id,ab.origin_url)}function aq(){aA(aI,"has_error")}function f(){q=true;parent.postMessage("lightbox;true;"+ab.id,ab.origin_url);aA(document.body,"is_lightbox tr_lightbox");setTimeout(function(){aE(document.body,"tr_lightbox");ap()},100);s("enter_lightbox");v()}function J(){if(!q){return}aA(document.body,"tr_lightbox_out");q=false;parent.postMessage("lightbox;false;"+ab.id,ab.origin_url);aE(document.body,"is_lightbox");s("exit_lightbox");v();x();setTimeout(function(){aE(document.body,"tr_lightbox_out")},0)}function aF(aM){if(aM==="off"){aI.className="tumblr_video_player  "+ab.orientation;aa=true;J();if(ad.isFullScreen===true){ad.cancelFullScreen()}if(ab._autocycle){ai=true;w()}if(!ab._sharing){aA(aI,"no-share-menu")}}if(aM==="playing"){aA(aI,"init")}}function u(){if(aI.querySelector(".tvp_spinner")){return}var aN,aM;aj=document.createElement("div");if(window.Spinner){aN={lines:13,length:6,width:3,radius:10,color:"#fff",speed:0.9,trail:34,shadow:false,hwaccel:false,className:"tvp_spinner_object spinner",zIndex:2000000000,top:"50",left:"auto"};aM=new Spinner(aN).spin();aj.appendChild(aM.el)}aj.className="tvp_spinner";aj.setAttribute("tabindex",0);return aj}function Q(){if(aI.querySelector(".tvp_big_play_button")){return}var aN="";if(ab.retro_static){aN+='<div class="retro_static"></div>'}aN+='        <div class="tvp_control tvp_big_play_button">            <span>'+__("Play")+'</span>            <div class="tvp_time_hud"></div>        </div>        <div class="tvp_controls_inner">            <div class="tvp_stretchy_middle">                <div class="tvp_control tvp_progress">                    <div aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" tabindex="0" class="tvp_progress_holder">                        <div class="tvp_load_progress"></div>                        <div class="tvp_play_progress"></div>                        <div class="tvp_seek_handle"></div>                    </div>                </div>                <div class="tvp_time_display">                    <div class="tvp_control tvp_current_time">0:00</div>                    <div class="tvp_control tvp_remaining_time">-0:00</div>                </div>                <div class="tvp_seek_thumbs"><b></b><i></i></div>            </div>            <div class="tvp_control tvp_play_button" tabindex="0">                <div>                    <span class="vjs-control-text">'+__("Play")+'</span>                </div>            </div>            <div class="tvp_control tvp_pause_button" tabindex="0">                <div>                    <span class="vjs-control-text">'+__("Pause")+"</span>                </div>            </div>";if(ab._sharing){aN+='                <div class="tvp_control tvp_share_button" tabindex="0">                    <div>                        <span class="vjs-control-text">Share</span>                    </div>                    <div class="tvp_share_menu">                        <a class="tvp_share_menu_item email" href="#share_email">'+__("Email")+'</a>                        <div class="tvp_share_menu_item email_form">                            <input id="tvp_share_menu_email_input_'+ab.id+'" class="tvp_share_menu_input email" type="email" placeholder="example@tumblr.com" />                            <a class="tvp_share_cancel" href="#cancel">'+__("Cancel")+'</a>                            <hr class="tvp_share_hr" />                            <a class="chrome blue tvp_share_menu_send_email" href="#send_email">'+__("Send")+'</a>                        </div>                        <a class="tvp_share_menu_item facebook" href="http://www.facebook.com/sharer.php?u='+ab.post_url+"&t="+ab.post_title+' " target="_facebook_share_'+ab.id+'">'+__("Facebook")+'</a>                        <a class="tvp_share_menu_item twitter" href="#share_twitter" >'+__("Twitter")+'</a>                        <div class="tvp_share_menu_item embed">                            <a class="chrome blue tvp_share_menu_copy_embed" href="#share_embed">Copy embed code</a>                            <input id="tvp_share_menu_embed_code_'+ab.id+'" class="tvp_share_menu_input embed" type="text" readonly="readonly"/>                            <a class="tvp_share_cancel" href="#cancel">'+__("Cancel")+"</a>                        </div>                    </div>                </div>"}aN+='            <div class="tvp_control tvp_fullscreen_button" tabindex="0">                <div>                    <span class="vjs-control-text">'+__("Fullscreen")+'</span>                </div>            </div>        </div>        <div class="tvp_video_error"><div class="tvp_video_error_message">'+__("Video failed to load.")+"</div></div>";var aM=document.createElement("div");aA(aM,"tvp_controls");aM.innerHTML=aN;return aM}function a(){if(aI.querySelector(".tvp_posters")){return}var aO=X.length,aM=document.createElement("div"),aP;for(var aN=0;aN<aO;aN++){aP=document.createElement("div");aP.style.backgroundImage="url("+X[aN]+")";aA(aP,"tvp_poster");aA(aP,"p"+(parseInt(aN,10)+1));aM.appendChild(aP)}aA(aM,"tvp_posters");return aM}function w(aO){var aR=parseInt((1+Math.random())*1000,10);if(ai){var aQ=X.length,aP=aI.querySelectorAll(".tvp_poster"),aN,aM;aO=(aO&&aO<=aQ)?aO:1;aN=aI.querySelector(".tvp_poster.p"+aO);if(aN){for(aM=0;aM<aP.length;aM++){aE(aP[aM],"show")}aA(aN,"show")}else{aO=1}clearTimeout(ah);ah=setTimeout(function(){aO++;w(aO)},aR)}}function aK(){aA(aI,"show_spinner")}function L(){aE(aI,"show_spinner")}function t(aN){if(af){return}if(ab.logging_in_progress){return}if(!g){return}var aM=(window.XMLHttpRequest)?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");aM.open("POST","/svc/log/conversion",true);aM.setRequestHeader("Content-Type","application/x-www-form-urlencoded");aM.onreadystatechange=function(){if(aM.readyState==4&&aM.status==200){af=1;ab.logging_in_progress=false}};ab.logging_in_progress=true;aM.send("log="+JSON.stringify(aN)+"&form_key="+g)}function Z(aN){if(ab.emailing_in_progress){return}if(!g){return}aN=aN||{};aN.id=aN.id||1;aN.data=aN.data||{};aN.data.post_id=aN.data.post_id||ab.id;aN.on_success=aN.on_success||function(){};var aM=(window.XMLHttpRequest)?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");aM.open("POST","/svc/email/send",true);aM.setRequestHeader("Content-Type","application/x-www-form-urlencoded");aM.onreadystatechange=function(){if(aM.readyState==4&&aM.status==200){ab.emailing_in_progress=false;aN.on_success()}};ab.emailing_in_progress=true;aM.send("mail="+JSON.stringify(aN)+"&form_key="+g)}function c(){if(ae.share_email_input.value===""){return false}if(!/\@/.test(ae.share_email_input.value)){return false}return true}function al(aM){parent.postMessage("video_do_play;"+ab.id,ab.origin_url);if(aa&&ab._lightbox&&(!ab.ie||(ab.ie&&ab.ie>8))){if((!ab.supress_lightbox&&(aM&&!aM.altKey))||(ab.supress_lightbox&&(aM&&aM.altKey))){f()}}aE(aI,"paused");ad.play();t({name:"CONVERSION_ACTION_HTML5_VIDEO",extra:{player:ad.techName,no_lightbox:ab.supress_lightbox}});if(!l&&typeof window.parent._gaq!=="undefined"&&window.parent._gaq){l=true;window.parent._gaq.push(["_trackEvent","dashboard_video","click",ab.retro_static?"static":"normal"])}aa=false;ai=false}function y(){aA(aI,"paused");ad.pause()}function K(){if(ab._lightbox&&!q&&!ad.isFullScreen){f();return}if(!ad.isFullScreen){N();n(true)}else{n(false)}}function an(aM){aA(aM,"shake");setTimeout(function(){aA(aM,"animated");setTimeout(function(){R(aM,["shake","animated"])},1000)},0)}function n(aM){if(aM){ad.requestFullScreen();parent.postMessage("full_screen;true;"+ab.id,ab.origin_url);aA(aI,"fullscreen");aA(document.body,"is_fullscreen");if(q){aE(document.body,"is_lightbox")}window.addEventListener("mousemove",A);window.addEventListener("keyup",function(aN){if(aN.keyCode===27){ad.cancelFullScreen()}});ae.container.addEventListener("mouseover",function(aN){av=true});ae.container.addEventListener("mouseout",function(aN){av=false})}else{ad.cancelFullScreen();parent.postMessage("full_screen.false;"+ab.id,ab.origin_url);aE(aI,"fullscreen");aE(document.body,"is_fullscreen");aE(aI,"mousemove");if(q){aA(document.body,"is_lightbox")}av=false;window.removeEventListener("mousemove",A,false);window.removeEventListener("keyup",function(){},false)}}function N(){ab.normal_width=document.body.clientWidth;ab.normal_height=document.body.clientHeight;setTimeout(function(){ab.fullscreen_interval=setInterval(function(){var aM=document.body.clientWidth,aN=document.body.clientHeight;if(aM===ab.normal_width&&aN===ab.normal_height){clearInterval(ab.fullscreen_interval);n(false)}},1000)},1000)}function p(aM){if(aM){aA(ae.share_popover,"show_email");ae.share_email_input.focus()}else{aE(ae.share_popover,"show_email");ae.share_email_input.value=""}}function E(aM){if(aM){aA(ae.share_popover,"show_embed");ae.share_embed_input.value=ab.embed_code;ae.share_embed_input.select()}else{aE(ae.share_popover,"show_embed")}}function v(){var aM=Math.floor(ab.thumbnails.width*((q)?1:0.5)),aN=Math.floor(ab.thumbnails.height*((q)?1:0.5));ae.seek_thumbs_container.style.width=aM+"px";ae.seek_thumbs_container.style.height=aN+"px";ae.seek_thumbs_container.style.marginLeft="-"+Math.floor(aM/2)+"px"}function M(){window.addEventListener("message",function(aN){var aM=aN.data;if(aM==="toggle"){if(aL(aI,"playing")){y()}else{al(aN)}}if(aM==="pause"){y()}if(aM==="play"){al(aN)}if(aM==="exit_lightbox"){J()}if(aM==="enter_lightbox"){f()}if(aM==="supress_lightbox"){ab.supress_lightbox=1}if(aM==="enable_lightbox"){ab.supress_lightbox=0}},false)}function Y(){i=new m(ae.share,{popover:ae.share_popover,item_selector:".tvp_share_menu_item",on_hide:function(){}})}function ag(){aI.querySelector(".video-js").appendChild(Q());aI.querySelector(".video-js").appendChild(a());aI.querySelector(".video-js").appendChild(u());ae.container=aI.querySelector(".tvp_controls_inner");ae.big_play=aI.querySelector(".tvp_big_play_button");ae.play=aI.querySelector(".tvp_play_button");ae.pause=aI.querySelector(".tvp_pause_button");ae.fullscreen=aI.querySelector(".tvp_fullscreen_button");ae.current_time=aI.querySelector(".tvp_current_time");ae.remaining_time=aI.querySelector(".tvp_remaining_time");ae.load_progress=aI.querySelector(".tvp_load_progress");ae.play_progress=aI.querySelector(".tvp_play_progress");ae.seek_handle=aI.querySelector(".tvp_seek_handle");ae.progress_control=aI.querySelector(".tvp_progress");ae.time_hud=aI.querySelector(".tvp_time_hud");ae.seek_thumbs=aI.querySelector(".tvp_seek_thumbs b");ae.seek_time=aI.querySelector(".tvp_seek_thumbs i");ae.seek_thumbs_container=aI.querySelector(".tvp_seek_thumbs");ae.time_hud.innerHTML=_V_.formatTime(ab.duration);if(ab.thumbnails.url.length&&ab.thumbnails.width>0&&ab.thumbnails.height>0){ae.seek_thumbs.style.backgroundImage='url("'+ab.thumbnails.url+'")';v()}else{ae.seek_thumbs_container.parentNode.removeChild(ae.seek_thumbs_container)}aI.addEventListener("mouseup",function(aM){var aN=aM.target;if(aL(aN,"tvp_controls")){if(ad.paused()){al(aM)}else{y()}}return false});ae.big_play.addEventListener("click",function(aM){al(aM);return false});ae.play.addEventListener("click",function(aM){al(aM);return false});ae.pause.addEventListener("click",function(aM){y();return false});ae.fullscreen.addEventListener("click",function(aM){K();return false});ae.remaining_time.addEventListener("click",function(aM){aE(aI,"show_remaining_time");return false});ae.current_time.addEventListener("click",function(aM){aA(aI,"show_remaining_time");return false});ae.progress_control.addEventListener("mouseup",function(aM){d(aM);return false});ae.progress_control.addEventListener("mouseover",function(aM){aA(aI,"show_thumbnails")});ae.progress_control.addEventListener("mouseout",function(aM){aE(aI,"show_thumbnails")});ae.seek_handle.addEventListener("mousedown",function(aM){ac();return false});if(!ab._autocycle){aI.addEventListener("mouseover",function(aM){ai=ad.paused();w()});aI.addEventListener("mouseout",function(aM){ai=false})}window.addEventListener("mousewheel",function(aM){J();parent.window.focus()});window.addEventListener("mouseup",function(aM){var aN=aM.target;if(G(".tumblr_video_cell",aN)||G(".close_button",aN)){J();parent.window.focus()}});window.addEventListener("keydown",function(aM){if(aM.keyCode===27){J();parent.window.focus()}});window.addEventListener("keypress",function(aM){if(aM.keyCode===32){if(ad.paused()){al(aM)}else{y()}aM.stopPropagation();aM.preventDefault()}})}function az(){if(!ab._sharing){aA(aI,"no-share-menu");return}ae.share=aI.querySelector(".tvp_share_button");ae.share_popover=aI.querySelector(".tvp_share_menu");ae.share_facebook=aI.querySelector(".tvp_share_menu > .facebook");ae.share_twitter=aI.querySelector(".tvp_share_menu > .twitter");ae.share_email=aI.querySelector(".tvp_share_menu > .email");ae.share_email_input=aI.querySelector(".tvp_share_menu .tvp_share_menu_input.email");ae.send_email=aI.querySelector(".tvp_share_menu .tvp_share_menu_send_email");ae.share_embed=aI.querySelector(".tvp_share_menu .tvp_share_menu_copy_embed");ae.share_embed_input=aI.querySelector(".tvp_share_menu .tvp_share_menu_input.embed");ae.share_cancel=aI.querySelectorAll(".tvp_share_menu .tvp_share_cancel");Y();ae.share.addEventListener("click",function(aN){i.show();return false});ae.share_email.addEventListener("click",function(aN){p(1);return false});ae.send_email.addEventListener("click",function(aN){if(c()){Z({data:{thumbnail:(X.length)?X[0]:""},on_success:function(){i.hide()}})}else{an(i.popover)}return false});ae.share_facebook.addEventListener("click",function(aN){return false});ae.share_twitter.addEventListener("click",function(aN){return false});ae.share_embed.addEventListener("click",function(aN){E(1);return false});for(var aM=0;aM<ae.share_cancel.length;aM++){ae.share_cancel[aM].addEventListener("click",function(aN){p(0);E(0);return false},false)}}function x(){ad.el.style.padding=am();ap();window.onresize=function(){setTimeout(function(){ad.el.style.padding=am();ap()},100)}}function aC(){var aP=document.querySelector(".tvp_progress"),aQ,aN,aO,aM;aP.onmousemove=function(aR){aN=aR.clientX;aQ=Math.floor((document.body.clientWidth-aP.clientWidth)/2)-((q)?30:20);aO=aN-aQ;aM=(aO/aP.clientWidth);I(aM,aO)}}function aJ(){aA(document.body.parentNode,"ie"+ab.ie)}function s(aM){if(!ab.supress_lightbox&&aM==="exit_lightbox"){var aN=Math.round(e());if(aN<5){parent.postMessage("set_supress_lightbox;"+aN+";"+ab.id,ab.origin_url)}}if(ab.supress_lightbox&&aM==="enter_lightbox"){parent.postMessage("set_supress_lightbox;-1;"+ab.id,ab.origin_url)}}function F(aM){parent.postMessage("get_supress_lightbox;true;"+ab.id,ab.origin_url)}return{initialize:function(aM){if(!window._V_){return false}if(!aM._dev&&window.self==window.top){document.location=(aM.post_url.length)?aM.post_url:aM.video_url;return false}document.body.parentNode.className+=" tumblr_video_iframe_html";ab=aM;ab.ie=(document.getElementById("ie_detector"))?parseInt(document.getElementById("ie_detector").getAttribute("data-version"),10):false;ab.origin_url="http://"+ab.origin_url;ab.orientation=(ab.dimensions.width/ab.dimensions.height>1)?"landscape":"portrait";ab.aspect=(ab.orientation==="landscape")?(ab.dimensions.height/ab.dimensions.width).toPrecision(4):(ab.dimensions.width/ab.dimensions.height).toPrecision(4);ab.wheelmove=0;F();B="tumblr_video_player_"+ab.id;X=ab.posters;ay=document.getElementById(B);aI=document.createElement("div");aI.className="tumblr_video_player "+ab.orientation;if(ab._dashboard){aI.className+=" on_dashboard"}aH=document.createElement("div");aH.className="tumblr_video_cell";aH.appendChild(aI);ay.parentNode.replaceChild(aH,ay);aI.appendChild(ay);if(ab.ie===8){document.body.innerHTML=document.getElementById("ie_detector").innerHTML;document.body.style.margin="0";return true}ad=_V_(B,{controls:false,autoplay:false,flash:{swf:"//assets.tumblr.com/assets/scripts/vendor/video-js/video-js-3.0.swf"},techOrder:["html5","flash"]});ad.addEvent("play",U);ad.addEvent("playing",W);ad.addEvent("pause",V);ad.addEvent("ended",at);ad.addEvent("timeupdate",P);ad.addEvent("progress",aB);ad.addEvent("loadedalldata",ak);ad.addEvent("canplay",L);ad.addEvent("canplaythrough",L);ad.addEvent("enterFullWindow",aG);ad.addEvent("exitFullWindow",D);ad.addEvent("error",aq);ad.addEvent("waiting",aK);x();ag();az();aC();M();if(ab.ie){aJ()}if(ab._autocycle){ai=true;w()}}}};(function(e,d){if(e.addEventListener){return}function a(g){var f=d[g];d[g]=function(h){return b(f(h))}}function c(f,h,g){return(g=this).attachEvent("on"+f,function(i){i=i||e.event;i.preventDefault=i.preventDefault||function(){i.returnValue=false};i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=true};h.call(g,i)})}function b(g,f){if(f=g.length){while(f--){g[f].addEventListener=c}}else{g.addEventListener=c}return g}b([d,e]);if("Element" in e){e.Element.prototype.addEventListener=c}else{d.attachEvent("onreadystatechange",function(){b(d.all)});a("getElementsByTagName");a("getElementById");a("createElement");b(d.all)}})(window,document);